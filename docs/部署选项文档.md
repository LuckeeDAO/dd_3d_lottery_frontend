# 部署选项指南

DD 3D彩票前端应用支持多种部署方式，您可以根据需求选择最适合的方案。

## 🚀 部署选项

### 1. Vercel部署 (推荐)

**优点:**
- 零配置部署
- 自动HTTPS
- 全球CDN
- 自动扩展

**配置要求:**
- Vercel账户
- GitHub Secrets配置

**使用步骤:**
1. 配置GitHub Secrets (参考 `.github/SECRETS_SETUP.md`)
2. 推送代码到main分支
3. 自动部署到Vercel

### 2. Docker部署

**优点:**
- 容器化部署
- 环境一致性
- 易于扩展

**配置要求:**
- Docker环境
- Docker Hub账户 (可选)

**使用步骤:**
1. 构建Docker镜像: `docker build -t dd-3d-lottery-frontend .`
2. 运行容器: `docker run -p 3000:80 dd-3d-lottery-frontend`
3. 或使用docker-compose: `docker-compose up -d`

### 3. 静态文件部署

**优点:**
- 简单直接
- 成本低
- 兼容性好

**支持平台:**
- GitHub Pages
- Netlify
- AWS S3
- 任何静态文件服务器

**使用步骤:**
1. 运行 `npm run build`
2. 将 `dist` 目录上传到服务器
3. 配置Web服务器 (Nginx/Apache)

## 🔧 环境配置

### 必需的环境变量

```bash
VITE_CHAIN_ID=cosmoshub-4
VITE_RPC_URL=https://rpc.cosmos.network
VITE_CONTRACT_ADDRESS=cosmwasm1contract...
VITE_SENDER_ADDRESS=cosmwasm1sender...
```

### 可选的环境变量

```bash
NODE_ENV=production
VITE_APP_TITLE=DD 3D 彩票
VITE_APP_DESCRIPTION=去中心化3D彩票游戏
```

## 📋 部署检查清单

### 部署前检查
- [ ] 环境变量配置正确
- [ ] 智能合约地址有效
- [ ] RPC节点可访问
- [ ] 测试通过

### 部署后检查
- [ ] 应用可正常访问
- [ ] 钱包连接功能正常
- [ ] 所有页面加载正常
- [ ] 响应式设计正常
- [ ] 性能指标达标

## 🛠️ 本地开发

### 启动开发服务器

```bash
# 安装依赖
npm install

# 配置环境变量
cp env.example .env.local

# 启动开发服务器
npm run dev
```

### 构建生产版本

```bash
# 构建应用
npm run build

# 预览构建结果
npm run preview
```

## 🔍 故障排除

### 常见问题

1. **构建失败**
   - 检查Node.js版本 (需要18+)
   - 检查依赖安装
   - 查看构建日志

2. **环境变量问题**
   - 确保所有必需变量已设置
   - 检查变量名称拼写
   - 验证变量值格式

3. **部署失败**
   - 检查部署平台配置
   - 查看部署日志
   - 验证权限设置

### 调试技巧

1. **本地测试**
   ```bash
   npm run build
   npm run preview
   ```

2. **Docker测试**
   ```bash
   docker build -t test-app .
   docker run -p 3000:80 test-app
   ```

3. **日志查看**
   - GitHub Actions: 查看Actions页面
   - Vercel: 查看Deployments页面
   - Docker: 使用 `docker logs <container_id>`

## 📞 支持

如果遇到部署问题：

1. 查看相关文档
2. 检查GitHub Issues
3. 查看部署日志
4. 联系技术支持

## 🔄 更新部署

### 自动更新
- 推送代码到main分支
- GitHub Actions自动构建和部署

### 手动更新
1. 更新代码
2. 重新构建
3. 重新部署

### 回滚
1. 使用之前的版本
2. 重新部署
3. 验证功能正常
